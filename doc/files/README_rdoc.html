<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README.rdoc</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README.rdoc</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README.rdoc
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Wed Sep 09 11:58:33 -0700 2009</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1>gmp</h1>
<p>
gmp is library providing Ruby bindings to <a
href="../classes/GMP.html">GMP</a> library. Here is the introduction
paragraph at <a href="http://gmplib.org/#WHAT">gmplib.org/#WHAT</a> :
</p>
<ul>
<li>&quot;<a href="../classes/GMP.html">GMP</a> is a free library for arbitrary
precision arithmetic, operating on signed integers, rational numbers, and
floating point numbers. There is no practical limit to the precision except
the ones implied by the available memory in the machine <a
href="../classes/GMP.html">GMP</a> runs on. <a
href="../classes/GMP.html">GMP</a> has a rich set of functions, and the
functions have a regular interface.

</li>
<li>The main target applications for <a href="../classes/GMP.html">GMP</a> are
cryptography applications and research, Internet security applications,
algebra systems, computational algebra research, etc.

</li>
<li><a href="../classes/GMP.html">GMP</a> is carefully designed to be as fast
as possible, both for small operands and for huge operands. The speed is
achieved by using fullwords as the basic arithmetic type, by using fast
algorithms, with highly optimised assembly code for the most common inner
loops for a lot of CPUs, and by a general emphasis on speed.

</li>
<li><a href="../classes/GMP.html">GMP</a> is faster than any other bignum
library. The advantage for <a href="../classes/GMP.html">GMP</a> increases
with the operand sizes for many operations, since <a
href="../classes/GMP.html">GMP</a> uses asymptotically faster algorithms.

</li>
<li>The first <a href="../classes/GMP.html">GMP</a> release was made in 1991.
It is continually developed and maintained, with a new release about once a
year.

</li>
<li><a href="../classes/GMP.html">GMP</a> is distributed under the GNU LGPL.
This license makes the library free to use, share, and improve, and allows
you to pass on the result. The license gives freedoms, but also sets firm
restrictions on the use with non-free programs.

</li>
<li><a href="../classes/GMP.html">GMP</a> is part of the GNU project. For more
information about the GNU project, please see the official GNU web site.

</li>
<li><a href="../classes/GMP.html">GMP</a>&#8216;s main target platforms are
Unix-type systems, such as GNU/Linux, Solaris, HP-UX, Mac OS X/Darwin, BSD,
AIX, etc. It also is known to work on Windoze in 32-bit mode.

</li>
<li><a href="../classes/GMP.html">GMP</a> is brought to you by a team listed in
the manual.

</li>
<li><a href="../classes/GMP.html">GMP</a> is carefully developed and
maintained, both technically and legally. We of course inspect and test
contributed code carefully, but equally importantly we make sure we have
the legal right to distribute the contributions, meaning users can safely
use <a href="../classes/GMP.html">GMP</a>. To achieve this, we will ask
contributors to sign paperwork where they allow us to distribute their
work.&quot;

</li>
</ul>
<p>
Only <a href="../classes/GMP.html">GMP</a> 4 or newer is supported. It has
been officially tested with:
</p>
<pre>
  |-------------------------------------|
  |   Platform    |  Ruby   |    GMP    |
  |---------------|---------|-----------|
  | Cygwin on x86 |  1.8.6  | GMP 4.3.1 |
  |-------------------------------------|
</pre>
<h1>Authors</h1>
<ul>
<li>Tomasz Wegrzanowski

</li>
<li>srawlins

</li>
</ul>
<h1>Classes</h1>
<p>
It provides module <a href="../classes/GMP.html">GMP</a> with following
classes:
</p>
<ul>
<li><a href="../classes/GMP/Z.html">GMP::Z</a> - infitite precision integer
numbers

</li>
<li><a href="../classes/GMP/Q.html">GMP::Q</a> - infitite precision rational
numbers

</li>
<li><a href="../classes/GMP/F.html">GMP::F</a> - arbitrary precision floating
point numbers

</li>
</ul>
<p>
Numbers are created by using new(). Constructors can take following
arguments:
</p>
<pre>
  GMP::Z.new()
  GMP::Z.new(GMP::Z)
  GMP::Z.new(FixNum)
  GMP::Z.new(BigNum)
  GMP::Z.new(String)
  GMP::Q.new()
  GMP::Q.new(GMP::Q)
  GMP::Q.new(String)
  GMP::Q.new(any GMP::Z initializer)
  GMP::Q.new(any GMP::Z initializer, any GMP::Z initializer)
  GMP::F.new()
  GMP::F.new(GMP::Z, precision=0)
  GMP::F.new(GMP::Q, precision=0)
  GMP::F.new(GMP::F)
  GMP::F.new(GMP::F, precision)
  GMP::F.new(String, precision=0)
  GMP::F.new(FixNum, precision=0)
  GMP::F.new(BigNum, precision=0)
  GMP::F.new(Float,  precision=0)
</pre>
<p>
You can also call them as:
</p>
<pre>
        GMP.Z(args)
        GMP.Q(args)
  todo  GMP.F(args)
</pre>
<h1>Methods</h1>
<pre>
  GMP::Z, GMP::Q and GMP::F
    +                        addition
    -                        substraction
    *                        multiplication
    to_s                     convert to string
    -@                       negation
    neg!                     in-place negation
    abs                      absolute value
    asb!                     in-place absolute value
    coerce                   promotion of arguments
    ==                       equality test
    &lt;=&gt;,&gt;=,&gt;,&lt;=,&lt;            comparisions
  class methods of GMP::Z
    fac(n)                   factorial of n
    fib(n)                   nth fibonacci number
    pow(n,m)                 n to mth power
  GMP::Z and GMP::Q
    swap                     efficiently swap contents of two objects, there
                             is no GMP::F.swap because various GMP::F objects
                             may have different precisions, which would make
                             them unswapable
  GMP::Z
    add!                     in-place addition
    sub!                     in-place subtraction
    tdiv,fdiv,cdiv           truncate, floor and ceil division
    tmod,fmod,cmod           truncate, floor and ceil modulus
    [],[]=                   testing and setting bits (as booleans)
    scan0,scan1              starting at bitnr (1st arg), scan for a 0 or 1
                             (respectively), then return the index of the
                             first instance.
    com                      2's complement
    com!                     in-place 2's complement
    &amp;,|,^                    logical operations: and, or, xor
    **                       power
    powmod                   power modulo
    even?                    is even
    odd?                     is odd
    &lt;&lt;                       shift left
    &gt;&gt;                       shift right, floor
    tshr                     shift right, truncate
    lastbits_pos(n)          last n bits of object, modulo if negative
    lastbits_sgn(n)          last n bits of object, preserve sign
    power?                   is perfect power
    square?                  is perfect square
    sqrt                     square root
    sqrt!                    change the object into its square root
    root(n)                  nth root
    jacobi                   jacobi symbol
    legendre                 legendre symbol
    nextprime                next *probable* prime
    nextprime!               change the object into its next *probable* prime
    popcount                 the number of bits equal to 1
    to_i                     convert to FixNum or BigNum
    remove(n)                remove all occurences of factor n
  GMP::Q and GMP::F
    /                        division
  GMP::Q
    num                      numerator
    den                      denominator
    inv                      inversion
    inv!                     in-place inversion
    floor,ceil,trunc         nearest integer
  class methods of GMP::F
    default_prec             get default precision
    default_prec=            set default precision
  GMP::F
    prec                     get precision
    floor,ceil,trunc         nearest integer, GMP::F is returned, not GMP::Z
    floor!,ceil!,trunc!      in-place nearest integer
  GMP::F (only if MPFR is available)
    exp                      e^object
    expm1                    the same as (object.exp) - 1, with better precision
    log                      natural logarithm of object
    log2                     binary logarithm of object
    log10                    decimal logarithm of object
    log1p                    the same as (object + 1).log, with better precision
    sqrt                     square root of the object
    cos                      \
    sin                      |
    tan                      |
    acos                     |
    asin                     |
    atan                     | trigonometric functions
    cosh                     | of the object
    sinh                     |
    tanh                     |
    aconh                    |
    asinh                    |
    atanh                    /
    nan?                     \
    infinite?                | type of floating point number
    finite?                  |
    number?                  /
    **                       power
</pre>
<h1>Precision</h1>
<p>
Precision can be explicitely set as second argument for GMP::F.new().
</p>
<p>
If there is no explicit precision, highest precision of all <a
href="../classes/GMP/F.html">GMP::F</a> arguments is used. That
doesn&#8216;t ensure that result will be exact. For details, consult any
paper about floating point arithmetics.
</p>
<p>
Default precision can be explicitely set by passing 0 to GMP::F.new(). In
particular, you can set precision of copy of <a
href="../classes/GMP/F.html">GMP::F</a> object by:
</p>
<pre>
  new_obj = GMP::F.new(old_obj, 0)
</pre>
<p>
Precision argument, and default_precision will be rounded up to whatever <a
href="../classes/GMP.html">GMP</a> thinks is appropriate.
</p>
<h1>Todo</h1>
<p>
These are inherited from Tomasz. I will go through these and see which are
still relevant.
</p>
<ul>
<li>mpz_fits_* and 31 vs. 32 integer variables

</li>
<li>all appropriate module and class methods if there are any to add

</li>
<li>fix all sign issues

</li>
<li>floats with precision control

</li>
<li>random numbers

</li>
<li>to_s vs. inspect ?

</li>
<li>to_s_hex()

</li>
<li>check if mpz_addmul_ui would optimize some statements

</li>
<li>some system that allow using denref and numref as normal ruby objects

</li>
<li>should we allocate global temporary variables like Perl <a
href="../classes/GMP.html">GMP</a> do ?

</li>
<li>takeover code that replaces all Bignums with <a
href="../classes/GMP/Z.html">GMP::Z</a>

</li>
<li>better bignum parser

</li>
<li>zero-copy method for strings generation

</li>
<li>what should be ancestors of <a href="../classes/GMP.html">GMP</a>::*
classes ?

</li>
<li>division and modulo

</li>
<li>put rb_raise into nice macros

</li>
<li>benchmarks against Python <a href="../classes/GMP.html">GMP</a> and Perl <a
href="../classes/GMP.html">GMP</a>

</li>
<li>dup methods

</li>
<li>integrate F into system

</li>
<li>should Z.[] bits be 0/1 or true/false, 0 is true, what might badly surprise
users

</li>
<li>seriously investigate Ruby Makefile-making system

</li>
<li>any2small_integer()

</li>
<li>check asm output, especially local memory efficiency

</li>
<li>it might be better to use `register&#8217; for some local variables

</li>
<li>powm with negative exponents

</li>
<li>check if different sorting of operatations gives better cache usage,

</li>
<li><a href="../classes/GMP.html">GMP</a>::* op RubyFloat and RubyFloat op <a
href="../classes/GMP.html">GMP</a>::*

</li>
<li>sort checks

</li>
<li>check all new GMP4 operations

</li>
</ul>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>